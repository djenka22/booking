<form [formGroup]="offerForm">
    <ion-grid>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">
                <ion-item>
                    <ion-input formControlName="title" label="Title" labelPlacement="floating"
                               autocomplete="organization-title" autocorrect="on"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">
                <ion-item>
                    <ion-textarea formControlName="description" label="Short description" labelPlacement="floating"
                                  rows="3"></ion-textarea>
                </ion-item>
                @if (description?.invalid && (description?.touched || description?.dirty) && description?.errors?.['maxlength']) {
                    <ion-text color="danger" class="ion-padding-start">Description must not be longer than 180
                        characters.
                    </ion-text>
                }
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">
                <ion-item>
                    <ion-input formControlName="price" label="Price" type="number"
                               labelPlacement="floating"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">
                <ion-item mode="ios">
                    <ion-label style="font-size: 16px" position="stacked">Available from</ion-label>
                    <ion-datetime-button style="padding-bottom: 2px; padding-top: 14px"
                                         datetime="availableFrom"></ion-datetime-button>
                    <ion-popover [keepContentsMounted]="true">
                        <ng-template>
                            <ion-datetime
                                    formControlName="availableFrom"
                                    id="availableFrom"
                                    presentation="date"
                                    [min]="currentDate"
                                    (ionChange)="onDateFromChange($event)"
                            ></ion-datetime>
                        </ng-template>
                    </ion-popover>
                </ion-item>
            </ion-col>
            <ion-col size-sm="6" offset-sm="3">
                <ion-item mode="ios">
                    <ion-label style="font-size: 16px" position="stacked">Available to</ion-label>
                    <ion-datetime-button style="padding-bottom: 2px; padding-top: 14px"
                                         datetime="availableTo"></ion-datetime-button>
                    <ion-popover [keepContentsMounted]="true">
                        <ng-template>
                            <ion-datetime
                                    formControlName="availableTo"
                                    presentation="date"
                                    id="availableTo"
                                    [min]="offerForm.get('availableFrom')?.value">
                            </ion-datetime>
                        </ng-template>
                    </ion-popover>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">
                <app-image-picker (imagePick)="onImagePick($event)"></app-image-picker>
            </ion-col>
        </ion-row>
    </ion-grid>
</form>
